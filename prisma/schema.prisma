generator client {
  provider = "prisma-client-js"
}



model Mentee {
  id                   String        @id @default(uuid())
  name                 String
  email                String        @unique
  externalId           String?       @unique @map("external_id")
  phone                String?
  status               String        @default("In Progress")
  priority             String?
  cohortBatch          String?       @map("cohort_batch")
  lastAttendance       DateTime?     @map("last_attendance")
  attendancePercentage Float?        @map("attendance_percentage")
  currentWeek          Int?          @map("current_week")
  attendances          Attendance[]
  checkInNotes         CheckInNote[]
  poc                  String?

  @@map("mentees")
}

model Attendance {
  id          String   @id @default(uuid())
  menteeId    String   @map("mentee_id")
  sessionDate DateTime @map("session_date")
  sessionType String   @map("session_type")
  isPresent   Boolean  @map("is_present")
  mentee      Mentee   @relation(fields: [menteeId], references: [id])

  @@map("attendances")
}

model User {
  id           String @id @default(uuid())
  name         String
  email        String @unique
  passwordHash String @map("password_hash")
  role         String

  @@map("users")
}

model CheckInNote {
  id            String   @id @default(uuid())
  menteeId      String   @map("mentee_id")
  timestamp     DateTime
  noteContent   String   @map("note_content")
  executiveName String   @map("executive_name")
  weekNumber    Int?     @map("week_number")
  mentee        Mentee   @relation(fields: [menteeId], references: [id])

  @@map("check_in_notes")
}

model WeeklyAttendanceReport {
  id           String   @id @default(uuid())
  weekNumber   Int
  cohortBatch  String
  totalMentees Int
  totalPresent Int
  totalAbsent  Int
  createdAt    DateTime @default(now())

  @@unique([weekNumber, cohortBatch])
  @@map("weekly_attendance_reports")
}

model Poc {
  id    BigInt     @id @default(autoincrement())
  email String?
  poc   String?

  @@map("pocs")
}
